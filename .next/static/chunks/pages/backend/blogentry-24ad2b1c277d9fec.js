(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[275],{6685:function(e,s,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/backend/blogentry",function(){return l(7077)}])},5874:function(e,s,l){"use strict";l.d(s,{Z:function(){return j}});var a=l(5893),r=l(682),t=l(9368),n=l(7597),c=l(1664),i=l.n(c),d=l(7294),o=function(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.Z,{variant:"dark",expand:"lg",className:"pageMenustrip",children:(0,a.jsxs)(r.Z,{children:[(0,a.jsx)("div",{className:"navbar-brand",children:(0,a.jsxs)(i(),{href:"/",className:"nav-link",children:[(0,a.jsx)("img",{src:"/static/sylogo.png",alt:"swaryoa",style:{maxHeight:30}}),(0,a.jsxs)("span",{className:"fs-2",children:[" ",(0,a.jsx)("b",{children:" swara yoga"})]})]})}),(0,a.jsx)(n.Z.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,a.jsx)(n.Z.Collapse,{id:"basic-navbar-nav",children:(0,a.jsxs)(t.Z,{className:"navbar-nav ms-auto mb-2 mb-lg-0",children:[(0,a.jsx)(i(),{href:"/backend/home",className:"nav-link",children:"Home"}),(0,a.jsx)(i(),{href:"/backend/newsentry",className:"nav-link",children:"NewsEntry"}),(0,a.jsx)(i(),{href:"/",className:"nav-link",children:"Panchang"}),(0,a.jsx)(i(),{href:"/",className:"nav-link",children:"Daily Swara"}),(0,a.jsx)(i(),{href:"/",className:"nav-link",children:"Video Gallery"}),(0,a.jsx)(i(),{href:"/contact",className:"nav-link",children:"Contact Us"}),(0,a.jsx)(i(),{href:"/loginuser",className:"nav-link",children:"Logout"})]})})]})})})},h=l(5780),x=function(){let[e,s]=(0,d.useState)(null);return(0,d.useEffect)(()=>{let e=localStorage.getItem("token");console.log("token is "+e);let l=async()=>{try{let e=await h.Z.get("/signin/getMenuList");if(200===e.status){let l=await e.data;s(l)}else console.error("API request failed")}catch(e){console.error(e)}};l()},[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{children:e?(0,a.jsx)("ul",{children:e.map((e,s)=>(0,a.jsx)("li",{children:(0,a.jsx)(i(),{href:e.url,children:e.label})},s))}):(0,a.jsx)("p",{children:"Loading data..."})})})};let u=e=>{let{mainTitle:s,footer:l,children:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(o,{}),(0,a.jsx)("div",{className:"container-xxl",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"pageColor rounded",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-lg-3 rightsidebar",children:(0,a.jsxs)("div",{className:"pt-1",children:[(0,a.jsx)("div",{className:"fs-5 justifytext"}),(0,a.jsx)("div",{className:"fs-5 justifytext"}),(0,a.jsx)("div",{className:"card  titlestrip",children:(0,a.jsxs)("div",{className:"card-header text-white",children:[(0,a.jsx)("h3",{children:" Menu"}),(0,a.jsx)(x,{})]})})]})}),(0,a.jsx)("div",{className:"col-lg-9",children:r})]})})})}),(0,a.jsx)("div",{className:"row footer pt-4",children:(0,a.jsx)("div",{className:"container-xxl",children:(0,a.jsx)("div",{className:"container"})})})]})};var j=u},5780:function(e,s,l){"use strict";var a=l(6154);let r=a.Z.create({baseURL:"http://localhost:3001/api/v1"});r.interceptors.request.use(e=>{let s=localStorage.getItem("token");return console.log("token "+s),e.headers.Authorization="Bearer "+s,console.log("config file is "+e),e}),s.Z=r},7077:function(e,s,l){"use strict";l.r(s);var a=l(5893),r=l(7294),t=l(5874),n=l(5780);s.default=function(){let[e,s]=(0,r.useState)([]),[l,c]=(0,r.useState)(""),[i,d]=(0,r.useState)(""),[o,h]=(0,r.useState)(""),[x,u]=(0,r.useState)(""),j=async()=>{try{let e=await n.Z.get("/blog");if(200===e.status){let l=await e.data;console.log(l),s(l)}else console.error("API request failed")}catch(e){console.log("error is :-"+e)}};(0,r.useEffect)(()=>{j()},[]);let g=async e=>{if(u(""),h(""),e.preventDefault(),!l){u("Please enter value in blog subject box");return}if(!i){u("Please enter value in blog Description box");return}try{await n.Z.post("/blog",{Blog_Subject:l,Blog_Description:i}),h("Message saved successfully"),d(""),c(""),j()}catch(e){h("Error occered"),console.log(e)}},m=async e=>{try{let s=window.confirm("Are you sure you want to delete this record?");if(!s)return;await n.Z.delete("/blog/"+e),console.log("Record deleted successfully"),h("Record deleted successfully"),j()}catch(e){console.log("Error occurred while deleting the record:",e),h("Error occurred while deleting the record:")}};return(0,a.jsxs)(t.Z,{mainTitle:"Blog Entry ",footer:"Copyright ".concat(new Date().getFullYear()),children:[(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsxs)("div",{className:"card  titlestrip ",children:[(0,a.jsxs)("div",{className:"card-header",children:["Add New Blog      ",o]}),(0,a.jsx)("div",{className:"justifytext fs-5 p-3",children:(0,a.jsxs)("form",{onSubmit:g,children:[(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("label",{htmlFor:"message",children:"Blog Subject"}),(0,a.jsx)("textarea",{id:"Blog_Subject",value:l,onChange:e=>c(e.target.value)})]}),(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("label",{htmlFor:"message",children:"Blog Desciption"}),(0,a.jsx)("textarea",{id:"Blog_Subject",value:i,onChange:e=>d(e.target.value)})]}),(0,a.jsx)("div",{className:"mt-3"}),(0,a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"}),"   \xa0\xa0\xa0",(0,a.jsxs)("span",{className:"error-message",children:[" ",x," "]})," ",(0,a.jsxs)("span",{className:"success-message",children:[" ",o," "]})]})})]})}),(0,a.jsx)("div",{children:(0,a.jsx)("h1",{children:"Latest Blog "})}),(0,a.jsxs)("table",{className:"table table-striped",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"ID"}),(0,a.jsx)("th",{children:"Blog Subject"}),(0,a.jsx)("th",{children:"Blog Description"}),(0,a.jsx)("th",{children:"entry_date"}),(0,a.jsx)("th",{children:"Delete"})]})}),(0,a.jsx)("tbody",{children:e&&e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.Blog_Subject}),(0,a.jsx)("td",{children:e.Blog_Description}),(0,a.jsx)("td",{children:e.Image_Url}),(0,a.jsx)("td",{children:e.entry_date}),(0,a.jsxs)("td",{children:["  ",(0,a.jsx)("button",{onClick:()=>m(e.Blog_Id),children:"Delete"})]})]},e.Blog_Id))})]})]})}}},function(e){e.O(0,[433,774,888,179],function(){return e(e.s=6685)}),_N_E=e.O()}]);